<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
.last_row{
  background: lightblue;
}
</style>
</head>
<body>

    <div class="container d-flex flex-column border border-light rounded justify-content-start align-items-start">
    
      <table class="table table-bordered mb-0">
        <thead>
          <tr>
            <th>label</th>
            <th>Question</th>
            <th>Answer</th>
          </tr>
        </thead>
        <tbody id="body_content">

        </tbody>
      </table>
      <div style="width:100%;"><button id="add_row" style="display:none;position:relative;" class="w-100 btn btn-light btn-sm"><i class="fa fa-plus"></i></button></div>
    </div>
    
    <button id="addrowbutton" style="display:none;"><i class='fa fa-plus'></i></button>
<script>
$(document).ready(function () {
        let index = 0;
        function addrow(){
          index += 1;
          $("#body_content").append(`<tr class="q_row" id="row_${index}">
                      <td><input type="text" value="${index}" class="label form-control form-input" id="label_${index}" name="label" /></td>
                      <td><input type="text" class="question form-input form-control" id="question_${index}" name="question" /></td>
                      <td><input type="text" class="answer form-input form-control" id="answer_${index}" name="answer" /></td>
                    </tr>`);
        }
        
        $("#add_row").on("click", addrow);
        addrow();

       $(".q_row").each((i, e)=>{
         const currentRow = $(e);
         $(e).mouseover( (event)=>{
         
           if (event.currentTarget.id == $("#body_content .q_row").last()[0].id){
           currentRow.css("background", "");

           $("#body_content .q_row").last()[0].classList.add("last_row");
           
           $("#add_row").css("display", "block");
           
           } else {
             if ($("#body_content .q_row").last().hasClass("last_row")){
               $("#body_content .q_row").last().removeClass("last_row")
             }
             currentRow.css("background", "#f0f1f0");
           }
           
           
         });
         });


       $(".q_row").each((i, e)=>{
         const currentRow = $(e);
         $(e).mouseout( (event)=>{
           currentRow.css("background", "white");
         });
         });
       });
       const elm = document.querySelector("#addrowbutton");
       
       function displayTools(event){
         
       }
       

</script>
</body>
</html>
